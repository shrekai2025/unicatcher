# å†™ä½œé£æ ¼è¿›é˜¶åˆ†ææ–¹æ¡ˆ

## ğŸ¯ æ–°å¢åˆ†æç»´åº¦æ¦‚è§ˆ

å½“å‰ç³»ç»Ÿä¸»è¦åˆ†æ**è¯æ±‡ã€å¥æ³•ã€ç±»å‹ã€ä¸“ä¸šåº¦**ï¼Œéœ€è¦å¢åŠ ï¼š

1. **å…¨æ–‡ç»“æ„åˆ†æ** - æ–‡ç« ç»„ç»‡é€»è¾‘å’Œå™è¿°æ¨¡å¼
2. **å…¸å‹å¥å¼æ¨¡æ¿** - é«˜é¢‘ä½¿ç”¨çš„å¥å­ç»“æ„
3. **å¸å¼•åŠ›æœºåˆ¶åˆ†æ** - ä¸ºä»€ä¹ˆè¿™ç¯‡æ¨æ–‡èƒ½å¼•èµ·å…³æ³¨
4. **æƒ…ç»ªé’©å­è¯†åˆ«** - å¦‚ä½•è®¾ç½®å’Œè§¦å‘æƒ…æ„Ÿååº”
5. **å™è¿°é£æ ¼åˆ†æ** - æ•…äº‹æ€§ã€è¯´æœæ€§ã€äº’åŠ¨æ€§ç­‰

## ğŸ“– å…¨æ–‡ç»“æ„åˆ†æ (Document Structure Analysis)

### æ ¸å¿ƒç›®æ ‡
è¯†åˆ«ç”¨æˆ·ä¹ æƒ¯çš„**è¡Œæ–‡ç»“æ„**å’Œ**é€»è¾‘ç»„ç»‡æ–¹å¼**

### åˆ†æç»´åº¦

#### 1. å¼€å¤´æ¨¡å¼è¯†åˆ«
```typescript
interface OpeningPatterns {
  questionHook: number;        // "ä½ çŸ¥é“å—ï¼Ÿ" ç–‘é—®å¼€å¤´æ¯”ä¾‹
  statementHook: number;       // "ä»Šå¤©å‘ç”Ÿäº†..." é™ˆè¿°å¼€å¤´
  dataHook: number;           // "æ•°æ®æ˜¾ç¤º..." æ•°æ®å¼€å¤´
  storyHook: number;          // "æ˜¨å¤©é‡åˆ°ä¸€ä»¶äº‹..." æ•…äº‹å¼€å¤´
  contrastHook: number;       // "å¾ˆå¤šäººä»¥ä¸º...ä½†å®é™…ä¸Š..." å¯¹æ¯”å¼€å¤´
  urgencyHook: number;        // "åˆšåˆšï¼çªå‘ï¼" ç´§æ€¥å¼€å¤´
}
```

**å®ç°é€»è¾‘**ï¼š
```javascript
analyzeOpeningPatterns(tweets) {
  const patterns = {
    questionHook: 0,
    statementHook: 0,
    dataHook: 0,
    storyHook: 0,
    contrastHook: 0,
    urgencyHook: 0
  };

  tweets.forEach(tweet => {
    const opening = tweet.content.substring(0, 20);

    // ç–‘é—®å¼€å¤´
    if (/^(ä½ çŸ¥é“|æœ‰æ²¡æœ‰äºº|å¤§å®¶è§‰å¾—|æ˜¯å¦|ä¸ºä»€ä¹ˆ|å¦‚ä½•|æ€ä¹ˆ)/.test(opening)) {
      patterns.questionHook++;
    }

    // æ•°æ®å¼€å¤´
    if (/^(æ•°æ®æ˜¾ç¤º|ç ”ç©¶è¡¨æ˜|ç»Ÿè®¡å‘ç°|è°ƒæŸ¥æ˜¾ç¤º|\d+%)/.test(opening)) {
      patterns.dataHook++;
    }

    // æ•…äº‹å¼€å¤´
    if (/^(ä»Šå¤©|æ˜¨å¤©|åˆšåˆš|åˆšæ‰|ä¸Šå‘¨|å‰å‡ å¤©).*?(é‡åˆ°|å‘ç”Ÿ|çœ‹åˆ°|å¬åˆ°)/.test(opening)) {
      patterns.storyHook++;
    }

    // å¯¹æ¯”å¼€å¤´
    if (/(å¾ˆå¤šäººä»¥ä¸º|å¤§å®¶éƒ½è¯´|ä¼ ç»Ÿè§‚å¿µ|ä»¥å‰æˆ‘ä¹Ÿ|ä½†å®é™…ä¸Š|ç„¶è€Œ)/.test(opening)) {
      patterns.contrastHook++;
    }

    // ç´§æ€¥å¼€å¤´
    if (/^(åˆšåˆš|çªå‘|æœ€æ–°|é‡ç£…|éœ‡æƒŠ)/.test(opening)) {
      patterns.urgencyHook++;
    }

    // é»˜è®¤é™ˆè¿°å¼€å¤´
    if (Object.values(patterns).every(v => v === 0)) {
      patterns.statementHook++;
    }
  });

  return patterns;
}
```

#### 2. ä¸­é—´å±•å¼€æ¨¡å¼
```typescript
interface DevelopmentPatterns {
  listStructure: number;       // åˆ—ä¸¾å¼ï¼š1ï¼‰2ï¼‰3ï¼‰
  storyNarrative: number;      // æ•…äº‹å™è¿°ï¼šç„¶å...æ¥ç€...
  logicalArgument: number;     // é€»è¾‘è®ºè¯ï¼šå› ä¸º...æ‰€ä»¥...
  exampleIllustration: number; // ä¸¾ä¾‹è¯´æ˜ï¼šæ¯”å¦‚...ä¾‹å¦‚...
  dataSupport: number;         // æ•°æ®æ”¯æ’‘ï¼šæ•°æ®æ˜¾ç¤º...ç ”ç©¶è¡¨æ˜...
}
```

#### 3. ç»“å°¾æ”¶æŸæ¨¡å¼
```typescript
interface ClosingPatterns {
  callToAction: number;        // "å¤§å®¶æ€ä¹ˆçœ‹ï¼Ÿ" è¡ŒåŠ¨å·å¬
  summaryClosing: number;      // "æ€»çš„æ¥è¯´..." æ€»ç»“å¼
  questionClosing: number;     // "ä½ è§‰å¾—å‘¢ï¼Ÿ" ç–‘é—®å¼
  insightClosing: number;      // "è¿™ç»™æˆ‘ä»¬çš„å¯å‘æ˜¯..." æ´å¯Ÿå¼
  openEnding: number;          // å¼€æ”¾å¼ç»“å°¾
}
```

#### 4. é€»è¾‘æµè½¬æ¨¡å¼
```typescript
interface LogicalFlow {
  problemSolution: number;     // é—®é¢˜â†’è§£å†³æ–¹æ¡ˆ
  causeEffect: number;         // åŸå› â†’ç»“æœ
  beforeAfter: number;         // å¯¹æ¯”å‰å
  generalSpecific: number;     // æ€»è®ºâ†’åˆ†è®º
  storyInsight: number;        // æ•…äº‹â†’æ´å¯Ÿ
}
```

## ğŸ“ å…¸å‹å¥å¼æ¨¡æ¿åˆ†æ (Sentence Pattern Analysis)

### æ ¸å¿ƒç›®æ ‡
æå–ç”¨æˆ·**é«˜é¢‘ä½¿ç”¨çš„å¥å­ç»“æ„æ¨¡æ¿**ï¼Œç”¨äºå†…å®¹ç”Ÿæˆ

### åˆ†ææ–¹æ³•

#### 1. å¥å¼æ¨¡æ¿æå–
```javascript
extractSentenceTemplates(tweets) {
  const templates = new Map();

  tweets.forEach(tweet => {
    const sentences = this.splitSentences(tweet.content);

    sentences.forEach(sentence => {
      // æå–å¥å¼ç»“æ„æ¨¡æ¿
      const template = this.extractTemplate(sentence);

      if (template) {
        const count = templates.get(template) || 0;
        templates.set(template, count + 1);
      }
    });
  });

  // è¿”å›é«˜é¢‘æ¨¡æ¿ï¼ˆå‡ºç°3æ¬¡ä»¥ä¸Šï¼‰
  return Array.from(templates.entries())
    .filter(([template, count]) => count >= 3)
    .sort(([,a], [,b]) => b - a)
    .slice(0, 20);
}

extractTemplate(sentence) {
  // å°†å…·ä½“å†…å®¹æŠ½è±¡åŒ–ä¸ºæ¨¡æ¿
  return sentence
    .replace(/\d+/g, '[NUM]')           // æ•°å­— â†’ [NUM]
    .replace(/[a-zA-Z]+/g, '[ENG]')     // è‹±æ–‡ â†’ [ENG]
    .replace(/æœºå™¨å­¦ä¹ |æ·±åº¦å­¦ä¹ |AI/g, '[TECH]') // æŠ€æœ¯è¯æ±‡ â†’ [TECH]
    .replace(/ä»Šå¤©|æ˜¨å¤©|æ˜å¤©/g, '[TIME]') // æ—¶é—´è¯ â†’ [TIME]
    .replace(/æˆ‘|ä½ |ä»–/g, '[PERSON]');   // äººç§° â†’ [PERSON]
}
```

#### 2. æƒ…æ„Ÿå¥å¼è¯†åˆ«
```typescript
interface EmotionalTemplates {
  excitement: string[];        // å…´å¥‹ï¼š"å¤ª[ADJ]äº†ï¼"
  surprise: string[];          // æƒŠè®¶ï¼š"æ²¡æƒ³åˆ°[THING]ç«Ÿç„¶..."
  concern: string[];           // æ‹…å¿§ï¼š"[PERSON]è§‰å¾—[THING]æœ‰ç‚¹..."
  approval: string[];          // èµåŒï¼š"[PERSON]è¯´å¾—å¯¹ï¼Œ[THING]ç¡®å®..."
  questioning: string[];       // è´¨ç–‘ï¼š"ä½†æ˜¯[THING]çœŸçš„[ADJ]å—ï¼Ÿ"
}
```

## ğŸ’¡ å¸å¼•åŠ›æœºåˆ¶åˆ†æ (Engagement Analysis)

### æ ¸å¿ƒç›®æ ‡
åˆ†ææ¨æ–‡ä¸ºä»€ä¹ˆèƒ½å¼•èµ·å…³æ³¨ï¼Œè¯†åˆ«**å¸å¼•åŠ›å› ç´ **

### åˆ†ææ¡†æ¶

#### 1. å†…å®¹å¸å¼•åŠ›åˆ†æ
```typescript
interface ContentAttraction {
  noveltyScore: number;        // æ–°é¢–æ€§è¯„åˆ†
  controversyScore: number;    // äº‰è®®æ€§è¯„åˆ†
  practicalityScore: number;   // å®ç”¨æ€§è¯„åˆ†
  emotionalResonance: number;  // æƒ…æ„Ÿå…±é¸£åº¦
  cognitiveLoad: number;       // è®¤çŸ¥è´Ÿæ‹…ï¼ˆè¶Šä½è¶Šå¥½ï¼‰
}
```

**å®ç°é€»è¾‘**ï¼š
```javascript
analyzeContentAttraction(tweet, engagementMetrics) {
  const content = tweet.content;
  let attraction = {
    noveltyScore: 0,
    controversyScore: 0,
    practicalityScore: 0,
    emotionalResonance: 0,
    cognitiveLoad: 0
  };

  // æ–°é¢–æ€§ï¼šåŒ…å«æ–°æ¦‚å¿µã€æ•°æ®ã€å‘ç°
  if (/é¦–æ¬¡|æœ€æ–°|çªç ´|å‘ç°|æ–°çš„|åˆ›æ–°/.test(content)) {
    attraction.noveltyScore += 0.3;
  }
  if (/\d+%/.test(content)) { // å…·ä½“æ•°æ®å¢åŠ æ–°é¢–æ€§
    attraction.noveltyScore += 0.2;
  }

  // äº‰è®®æ€§ï¼šå¯¹ç«‹è§‚ç‚¹ã€æ‰¹è¯„ã€è´¨ç–‘
  if (/(ä½†æ˜¯|ç„¶è€Œ|ä¸è¿‡|åå¯¹|è´¨ç–‘|äº‰è®®|é—®é¢˜)/.test(content)) {
    attraction.controversyScore += 0.3;
  }

  // å®ç”¨æ€§ï¼šæ•™ç¨‹ã€æŠ€å·§ã€æ–¹æ³•ã€å·¥å…·
  if (/(å¦‚ä½•|æ–¹æ³•|æŠ€å·§|å·¥å…·|æ­¥éª¤|æ”»ç•¥)/.test(content)) {
    attraction.practicalityScore += 0.4;
  }

  // æƒ…æ„Ÿå…±é¸£ï¼šç¬¬ä¸€äººç§°ã€æƒ…æ„Ÿè¯æ±‡
  if (/(æˆ‘è§‰å¾—|æˆ‘å‘ç°|è®©æˆ‘|ä»¤æˆ‘|æ„Ÿåˆ°|è§‰å¾—)/.test(content)) {
    attraction.emotionalResonance += 0.2;
  }

  // è®¤çŸ¥è´Ÿæ‹…ï¼šå¥å­é•¿åº¦ã€å¤æ‚åº¦
  const avgSentenceLength = content.length / this.splitSentences(content).length;
  attraction.cognitiveLoad = Math.min(avgSentenceLength / 30, 1.0);

  return attraction;
}
```

#### 2. ç»“æ„å¸å¼•åŠ›åˆ†æ
```typescript
interface StructuralAttraction {
  hookStrength: number;        // å¼€å¤´é’©å­å¼ºåº¦
  flowSmoothness: number;      // é€»è¾‘æµç•…åº¦
  climaxPlacement: number;     // é«˜æ½®ä½ç½®ä¼˜åŒ–
  closingPower: number;        // ç»“å°¾å½±å“åŠ›
}
```

## ğŸ£ æƒ…ç»ªé’©å­è¯†åˆ«ä¸åˆ†æ (Emotional Hook Analysis)

### æ ¸å¿ƒç›®æ ‡
è¯†åˆ«å¦‚ä½•è®¾ç½®**æƒ…ç»ªè§¦å‘ç‚¹**å’Œ**äº’åŠ¨é’©å­**

### é’©å­ç±»å‹ä½“ç³»

#### 1. å¼€å¤´é’©å­ (Opening Hooks)
```typescript
interface OpeningHooks {
  curiosityGap: {              // å¥½å¥‡å¿ƒç¼ºå£
    pattern: string;           // "ä½ çŸ¥é“...å—ï¼Ÿä½†å®é™…ä¸Š..."
    effectiveness: number;     // æœ‰æ•ˆæ€§è¯„åˆ†
    examples: string[];        // å®é™…ä½¿ç”¨ä¾‹å­
  };

  personalStory: {             // ä¸ªäººæ•…äº‹
    pattern: string;           // "æ˜¨å¤©é‡åˆ°ä¸€ä»¶äº‹..."
    effectiveness: number;
    examples: string[];
  };

  controversialStatement: {    // äº‰è®®æ€§è§‚ç‚¹
    pattern: string;           // "å¾ˆå¤šäººéƒ½é”™äº†..."
    effectiveness: number;
    examples: string[];
  };

  dataShock: {                // æ•°æ®å†²å‡»
    pattern: string;           // "ä½ ç»å¯¹æƒ³ä¸åˆ°ï¼Œ...ç«Ÿç„¶æœ‰[NUM]%"
    effectiveness: number;
    examples: string[];
  };
}
```

#### 2. ä¸­é—´ç»´æŒé’©å­ (Sustaining Hooks)
```typescript
interface SustainingHooks {
  progressiveRevelation: number;  // æ¸è¿›æ­ç¤ºï¼š"æ›´é‡è¦çš„æ˜¯..."
  unexpectedTurn: number;         // æ„å¤–è½¬æŠ˜ï¼š"ä½†æ˜¯..."
  personalConnection: number;     // ä¸ªäººè¿æ¥ï¼š"è¿™è®©æˆ‘æƒ³åˆ°..."
  readerInvolvement: number;      // è¯»è€…å·å…¥ï¼š"ä½ æ˜¯å¦ä¹Ÿ..."
}
```

#### 3. ç»“å°¾é’©å­ (Closing Hooks)
```typescript
interface ClosingHooks {
  callToAction: number;        // è¡ŒåŠ¨å·å¬ï¼š"ä½ æ€ä¹ˆçœ‹ï¼Ÿ"
  cliffhanger: number;         // æ‚¬å¿µï¼š"ä¸‹æ¬¡åˆ†äº«..."
  emotionalResonance: number;  // æƒ…æ„Ÿå…±é¸£ï¼š"å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©"
  thoughtProvoking: number;    // å¼•å‘æ€è€ƒï¼š"è¿™è®©æˆ‘ä»¬æ€è€ƒ..."
}
```

## ğŸ“Š å™è¿°é£æ ¼åˆ†æ (Narrative Style Analysis)

### æ ¸å¿ƒç›®æ ‡
è¯†åˆ«ç”¨æˆ·çš„**å™è¿°åå¥½**å’Œ**è¡¨è¾¾é£æ ¼**

```typescript
interface NarrativeStyle {
  storytelling: {              // æ•…äº‹æ€§
    usePersonalAnecdotes: number;    // ä¸ªäººè½¶äº‹ä½¿ç”¨ç‡
    chronologicalOrder: number;      // æ—¶é—´é¡ºåºå™è¿°
    characterDevelopment: number;    // äººç‰©å¡‘é€ 
  };

  persuasion: {               // è¯´æœæ€§
    logicalArgument: number;        // é€»è¾‘è®ºè¯
    evidenceSupport: number;        // è¯æ®æ”¯æŒ
    emotionalAppeal: number;        // æƒ…æ„Ÿè¯‰æ±‚
  };

  interaction: {              // äº’åŠ¨æ€§
    directAddress: number;          // ç›´æ¥ç§°å‘¼è¯»è€…
    questionEngagement: number;     // æé—®äº’åŠ¨
    conversationalTone: number;     // å¯¹è¯è¯­è°ƒ
  };

  authority: {                // æƒå¨æ€§
    expertiseDisplay: number;       // ä¸“ä¸šçŸ¥è¯†å±•ç¤º
    confidenceLevel: number;        // è¯­æ°”è‡ªä¿¡ç¨‹åº¦
    citationUsage: number;         // å¼•ç”¨ä½¿ç”¨
  };
}
```

## ğŸ—ï¸ å®æ–½æ¶æ„è®¾è®¡

### 1. æ–°å¢æ•°æ®è¡¨ç»“æ„

```sql
-- æ‰©å±•ç”¨æˆ·é£æ ¼æ¡£æ¡ˆè¡¨
ALTER TABLE user_style_profile ADD COLUMN
  opening_patterns TEXT,           -- å¼€å¤´æ¨¡å¼åˆ†æç»“æœ
  development_patterns TEXT,       -- ä¸­é—´å±•å¼€æ¨¡å¼
  closing_patterns TEXT,          -- ç»“å°¾æ¨¡å¼
  sentence_templates TEXT,        -- å¥å¼æ¨¡æ¿
  attraction_factors TEXT,        -- å¸å¼•åŠ›å› ç´ 
  emotional_hooks TEXT,           -- æƒ…ç»ªé’©å­
  narrative_style TEXT;           -- å™è¿°é£æ ¼

-- æ–°å¢æ¨æ–‡å¸å¼•åŠ›åˆ†æè¡¨
CREATE TABLE tweet_attraction_analysis (
  id TEXT PRIMARY KEY,
  tweet_id TEXT NOT NULL,
  username TEXT NOT NULL,

  -- å¸å¼•åŠ›è¯„åˆ†
  novelty_score REAL DEFAULT 0,
  controversy_score REAL DEFAULT 0,
  practicality_score REAL DEFAULT 0,
  emotional_resonance REAL DEFAULT 0,

  -- é’©å­è¯†åˆ«
  opening_hook_type TEXT,
  sustaining_hooks TEXT,           -- JSONæ•°ç»„
  closing_hook_type TEXT,

  -- ç»“æ„åˆ†æ
  logical_flow_type TEXT,
  climax_position REAL,            -- é«˜æ½®ä½ç½® (0-1)

  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (tweet_id) REFERENCES writing_analysis_tweet(id)
);

-- å¥å¼æ¨¡æ¿åº“
CREATE TABLE sentence_templates (
  id TEXT PRIMARY KEY,
  username TEXT NOT NULL,
  template_pattern TEXT NOT NULL,  -- å¥å¼æ¨¡æ¿
  frequency INTEGER DEFAULT 1,     -- ä½¿ç”¨é¢‘ç‡
  category TEXT,                   -- ç±»åˆ«ï¼šopening/development/closing
  emotion_type TEXT,               -- æƒ…æ„Ÿç±»å‹
  effectiveness_score REAL,        -- æœ‰æ•ˆæ€§è¯„åˆ†
  examples TEXT,                   -- JSON: å®é™…ä¾‹å­
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### 2. æœåŠ¡æ¶æ„æ‰©å±•

```typescript
// æ–°å¢é«˜çº§é£æ ¼åˆ†ææœåŠ¡
export class AdvancedStyleAnalysisService extends StyleAnalysisService {

  // å…¨æ–‡ç»“æ„åˆ†æ
  async analyzeDocumentStructure(tweets: Tweet[]): Promise<DocumentStructure> {
    const openingPatterns = this.analyzeOpeningPatterns(tweets);
    const developmentPatterns = this.analyzeDevelopmentPatterns(tweets);
    const closingPatterns = this.analyzeClosingPatterns(tweets);
    const logicalFlows = this.analyzeLogicalFlows(tweets);

    return {
      openingPatterns,
      developmentPatterns,
      closingPatterns,
      logicalFlows
    };
  }

  // å¸å¼•åŠ›æœºåˆ¶åˆ†æ
  async analyzeAttraction(tweet: Tweet, engagementMetrics?: EngagementMetrics): Promise<AttractionAnalysis> {
    const contentAttraction = this.analyzeContentAttraction(tweet, engagementMetrics);
    const structuralAttraction = this.analyzeStructuralAttraction(tweet);
    const emotionalHooks = this.identifyEmotionalHooks(tweet);

    return {
      contentAttraction,
      structuralAttraction,
      emotionalHooks,
      overallScore: this.calculateOverallAttraction(contentAttraction, structuralAttraction, emotionalHooks)
    };
  }

  // å¥å¼æ¨¡æ¿æå–
  async extractSentenceTemplates(username: string): Promise<SentenceTemplate[]> {
    const tweets = await this.getUserTweets(username);
    const templates = this.extractTemplatePatterns(tweets);

    // ä¿å­˜åˆ°æ•°æ®åº“
    await this.saveSentenceTemplates(username, templates);

    return templates;
  }

  // å™è¿°é£æ ¼åˆ†æ
  async analyzeNarrativeStyle(tweets: Tweet[]): Promise<NarrativeStyle> {
    return {
      storytelling: this.analyzeStorytellingStyle(tweets),
      persuasion: this.analyzePersuasionStyle(tweets),
      interaction: this.analyzeInteractionStyle(tweets),
      authority: this.analyzeAuthorityStyle(tweets)
    };
  }
}
```

### 3. API æ¥å£æ‰©å±•

```typescript
// POST /api/writing-analysis/advanced-style
export async function POST(request: NextRequest) {
  const { username, analysisType = 'full' } = await request.json();

  const advancedService = new AdvancedStyleAnalysisService();

  const results = await advancedService.analyzeAdvancedStyle(username, {
    includeStructure: analysisType === 'full',
    includeAttraction: analysisType === 'full',
    includeTemplates: true,
    includeNarrative: analysisType === 'full'
  });

  return NextResponse.json({
    success: true,
    data: results
  });
}
```

## ğŸ¯ åº”ç”¨åœºæ™¯

### 1. å†…å®¹ç”Ÿæˆä¼˜åŒ–
```javascript
// åŸºäºç”¨æˆ·çš„é«˜é¢‘å¼€å¤´æ¨¡å¼ç”Ÿæˆ
if (user.openingPatterns.questionHook > 0.3) {
  // 30%ä»¥ä¸Šä½¿ç”¨ç–‘é—®å¼€å¤´ï¼Œä¼˜å…ˆç”Ÿæˆç–‘é—®å¼å¼€å¤´
  generatedOpening = generateQuestionHook(topic);
}
```

### 2. å¸å¼•åŠ›é¢„æµ‹
```javascript
// é¢„æµ‹ç”Ÿæˆå†…å®¹çš„å¸å¼•åŠ›åˆ†æ•°
const attractionScore = predictAttraction({
  content: generatedTweet,
  userStyle: userStyleProfile,
  topic: inputTopic
});

if (attractionScore < 0.6) {
  // å¸å¼•åŠ›ä¸è¶³ï¼Œé‡æ–°ç”Ÿæˆæˆ–ä¼˜åŒ–
  generatedTweet = enhanceAttraction(generatedTweet, userStyleProfile);
}
```

### 3. ä¸ªæ€§åŒ–æ¨è
```javascript
// åŸºäºç”¨æˆ·é£æ ¼æ¨èå†™ä½œå»ºè®®
const suggestions = generateWritingSuggestions({
  userWeaknesses: styleProfile.weakAreas,
  effectivePatterns: styleProfile.highPerformingPatterns,
  currentTopic: inputTopic
});
```

## ğŸ“ˆ è¿›é˜¶æ•ˆæœé¢„æœŸ

å®æ–½è¿™ä¸ªè¿›é˜¶æ–¹æ¡ˆåï¼Œç³»ç»Ÿå°†èƒ½å¤Ÿï¼š

1. **ç²¾å‡†é£æ ¼å»ºæ¨¡**: ä»å¥å¼åˆ°ç»“æ„å…¨é¢å»ºæ¨¡ç”¨æˆ·å†™ä½œé£æ ¼
2. **å¸å¼•åŠ›é¢„æµ‹**: é¢„æµ‹å†…å®¹çš„ä¼ æ’­æ½œåŠ›å’Œç”¨æˆ·å‚ä¸åº¦
3. **æ™ºèƒ½ä¼˜åŒ–å»ºè®®**: æä¾›å…·ä½“çš„å†™ä½œæ”¹è¿›å»ºè®®
4. **ä¸ªæ€§åŒ–ç”Ÿæˆ**: ç”Ÿæˆæ›´ç¬¦åˆç”¨æˆ·é£æ ¼å’Œä¹ æƒ¯çš„å†…å®¹
5. **æƒ…ç»ªè®¾è®¡**: æœ‰æ„è¯†åœ°è®¾è®¡æƒ…ç»ªè§¦å‘ç‚¹å’Œäº’åŠ¨é’©å­

è¿™ä¸ªæ–¹æ¡ˆå°†å†™ä½œé£æ ¼åˆ†æä»**åŸºç¡€ç‰¹å¾è¯†åˆ«**æå‡åˆ°**æ·±åº¦æ¨¡å¼æ´å¯Ÿ**çš„æ°´å¹³ï¼ğŸš€