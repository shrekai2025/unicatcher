# UniCatcher æœåŠ¡å™¨éƒ¨ç½²å®Œæ•´æŒ‡å—

æœ¬æŒ‡å—è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨è¿œç¨‹UbuntuæœåŠ¡å™¨ä¸Šéƒ¨ç½²UniCatcheré¡¹ç›®ï¼ŒåŒ…æ‹¬æ¡Œé¢ç¯å¢ƒçš„æ£€æŸ¥ã€å®‰è£…å’Œé¡¹ç›®é…ç½®ã€‚

## ğŸ–¥ï¸ **ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥æœåŠ¡å™¨æ¡Œé¢ç¯å¢ƒ**

### **1. è¿æ¥åˆ°æœåŠ¡å™¨**
```bash
# SSHè¿æ¥åˆ°æœåŠ¡å™¨
ssh username@your-server-ip

# å¦‚æœä½¿ç”¨å¯†é’¥æ–‡ä»¶
ssh -i /path/to/your-key.pem username@your-server-ip
```

### **2. æ£€æŸ¥æ˜¯å¦æœ‰æ¡Œé¢ç¯å¢ƒ**

#### **æ–¹æ³•1ï¼šæ£€æŸ¥æ˜¾ç¤ºæœåŠ¡å™¨**
```bash
# æ£€æŸ¥æ˜¯å¦æœ‰X11æ˜¾ç¤ºæœåŠ¡å™¨åœ¨è¿è¡Œ
echo $DISPLAY
# å¦‚æœè¾“å‡ºä¸ºç©ºæˆ–æœªè®¾ç½®ï¼Œè¯´æ˜æ²¡æœ‰å›¾å½¢ç•Œé¢

# æ£€æŸ¥X11ç›¸å…³è¿›ç¨‹
ps aux | grep -i x11
ps aux | grep -i xorg
ps aux | grep -i gdm
ps aux | grep -i lightdm

# æ£€æŸ¥æ˜¾ç¤ºç®¡ç†å™¨çŠ¶æ€
systemctl status gdm3 2>/dev/null || echo "GDM3æœªå®‰è£…"
systemctl status lightdm 2>/dev/null || echo "LightDMæœªå®‰è£…"
systemctl status sddm 2>/dev/null || echo "SDDMæœªå®‰è£…"
```

#### **æ–¹æ³•2ï¼šæ£€æŸ¥å·²å®‰è£…çš„æ¡Œé¢ç¯å¢ƒ**
```bash
# æ£€æŸ¥æ˜¯å¦å®‰è£…äº†æ¡Œé¢ç¯å¢ƒåŒ…
dpkg -l | grep -i desktop-environment
dpkg -l | grep -i ubuntu-desktop
dpkg -l | grep -i gnome
dpkg -l | grep -i kde
dpkg -l | grep -i xfce
dpkg -l | grep -i lxde

# æ£€æŸ¥çª—å£ç®¡ç†å™¨
which gnome-session 2>/dev/null && echo "GNOMEå·²å®‰è£…"
which startkde 2>/dev/null && echo "KDEå·²å®‰è£…"
which startxfce4 2>/dev/null && echo "XFCEå·²å®‰è£…"
which startlxde 2>/dev/null && echo "LXDEå·²å®‰è£…"
```

#### **æ–¹æ³•3ï¼šå…¨é¢ç¯å¢ƒæ£€æŸ¥è„šæœ¬**
```bash
# åˆ›å»ºæ£€æŸ¥è„šæœ¬
cat > check_gui.sh << 'EOF'
#!/bin/bash

echo "ğŸ” UbuntuæœåŠ¡å™¨å›¾å½¢ç¯å¢ƒæ£€æŸ¥æŠ¥å‘Š"
echo "=================================="

# åŸºæœ¬ä¿¡æ¯
echo -e "\nğŸ“‹ ç³»ç»Ÿä¿¡æ¯:"
echo "æ“ä½œç³»ç»Ÿ: $(lsb_release -d | cut -f2)"
echo "å†…æ ¸ç‰ˆæœ¬: $(uname -r)"
echo "æ¶æ„: $(uname -m)"

# æ˜¾ç¤ºç¯å¢ƒæ£€æŸ¥
echo -e "\nğŸ–¥ï¸  æ˜¾ç¤ºç¯å¢ƒ:"
if [ -n "$DISPLAY" ]; then
    echo "DISPLAYç¯å¢ƒå˜é‡: $DISPLAY âœ…"
else
    echo "DISPLAYç¯å¢ƒå˜é‡: æœªè®¾ç½® âŒ"
fi

# X11æœåŠ¡æ£€æŸ¥
echo -e "\nğŸ”§ X11æœåŠ¡:"
if pgrep -x "Xorg" > /dev/null; then
    echo "Xorgè¿›ç¨‹: è¿è¡Œä¸­ âœ…"
else
    echo "Xorgè¿›ç¨‹: æœªè¿è¡Œ âŒ"
fi

# æ˜¾ç¤ºç®¡ç†å™¨æ£€æŸ¥
echo -e "\nğŸ‘¤ æ˜¾ç¤ºç®¡ç†å™¨:"
for dm in gdm3 lightdm sddm; do
    if systemctl is-active --quiet $dm 2>/dev/null; then
        echo "$dm: è¿è¡Œä¸­ âœ…"
    elif systemctl is-enabled --quiet $dm 2>/dev/null; then
        echo "$dm: å·²å®‰è£…ä½†æœªè¿è¡Œ âš ï¸"
    else
        echo "$dm: æœªå®‰è£… âŒ"
    fi
done

# æ¡Œé¢ç¯å¢ƒæ£€æŸ¥
echo -e "\nğŸ  æ¡Œé¢ç¯å¢ƒ:"
desktops=(
    "ubuntu-desktop:Ubuntué»˜è®¤æ¡Œé¢"
    "gnome-shell:GNOMEæ¡Œé¢"
    "kde-plasma-desktop:KDEæ¡Œé¢"
    "xfce4:XFCEæ¡Œé¢"
    "lxde:LXDEæ¡Œé¢"
)

for desktop in "${desktops[@]}"; do
    pkg="${desktop%%:*}"
    desc="${desktop##*:}"
    if dpkg -l | grep -q "^ii.*$pkg"; then
        echo "$desc: å·²å®‰è£… âœ…"
    else
        echo "$desc: æœªå®‰è£… âŒ"
    fi
done

# VNCæœåŠ¡æ£€æŸ¥
echo -e "\nğŸ”— è¿œç¨‹æ¡Œé¢æœåŠ¡:"
for vnc in vncserver tigervnc x11vnc; do
    if which $vnc >/dev/null 2>&1; then
        echo "$vnc: å·²å®‰è£… âœ…"
    else
        echo "$vnc: æœªå®‰è£… âŒ"
    fi
done

# å»ºè®®
echo -e "\nğŸ’¡ å»ºè®®:"
if [ -z "$DISPLAY" ] && ! pgrep -x "Xorg" > /dev/null; then
    echo "âŒ æœåŠ¡å™¨æ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œå»ºè®®ï¼š"
    echo "   1. å®‰è£…è½»é‡çº§æ¡Œé¢ç¯å¢ƒï¼ˆæ¨èXFCEï¼‰"
    echo "   2. æˆ–è€…å®‰è£…VNCæœåŠ¡è¿›è¡Œè¿œç¨‹æ¡Œé¢è®¿é—®"
    echo "   3. æˆ–è€…ä½¿ç”¨Docker headlessæ¨¡å¼éƒ¨ç½²ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰"
else
    echo "âœ… æœåŠ¡å™¨å…·å¤‡å›¾å½¢ç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥éƒ¨ç½²"
fi
EOF

chmod +x check_gui.sh
./check_gui.sh
```

---

## ğŸ–¼ï¸ **ç¬¬äºŒæ­¥ï¼šå®‰è£…GUIæ¡Œé¢ç¯å¢ƒï¼ˆå¦‚éœ€è¦ï¼‰**

### **é€‰é¡¹1ï¼šè½»é‡çº§XFCEæ¡Œé¢ï¼ˆæ¨èæœåŠ¡å™¨ï¼‰**

#### **å®‰è£…XFCE**
```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# å®‰è£…XFCEæ¡Œé¢ç¯å¢ƒï¼ˆçº¦500MBï¼‰
sudo apt install -y xfce4 xfce4-goodies

# å®‰è£…æ˜¾ç¤ºç®¡ç†å™¨
sudo apt install -y lightdm

# å¯ç”¨æ˜¾ç¤ºç®¡ç†å™¨
sudo systemctl enable lightdm
sudo systemctl start lightdm

# æ£€æŸ¥å®‰è£…ç»“æœ
systemctl status lightdm
```

#### **é…ç½®è‡ªåŠ¨ç™»å½•ï¼ˆå¯é€‰ï¼‰**
```bash
# ç¼–è¾‘LightDMé…ç½®
sudo tee /etc/lightdm/lightdm.conf.d/50-autologin.conf << EOF
[Seat:*]
autologin-user=your-username
autologin-user-timeout=0
EOF

# é‡å¯æ˜¾ç¤ºç®¡ç†å™¨
sudo systemctl restart lightdm
```

### **é€‰é¡¹2ï¼šå®Œæ•´Ubuntuæ¡Œé¢**
```bash
# å®‰è£…å®Œæ•´Ubuntuæ¡Œé¢ï¼ˆçº¦1.5GBï¼‰
sudo apt update
sudo apt install -y ubuntu-desktop-minimal

# å¯ç”¨GDM3æ˜¾ç¤ºç®¡ç†å™¨
sudo systemctl enable gdm3
sudo systemctl start gdm3

# é‡å¯ç³»ç»Ÿä½¿æ¡Œé¢ç”Ÿæ•ˆ
sudo reboot
```

### **é€‰é¡¹3ï¼šå®‰è£…VNCè¿œç¨‹æ¡Œé¢ï¼ˆæ¨èï¼‰**

#### **å®‰è£…TigerVNC**
```bash
# å®‰è£…VNCæœåŠ¡å™¨
sudo apt update
sudo apt install -y tigervnc-standalone-server tigervnc-xorg-extension

# å®‰è£…è½»é‡çº§æ¡Œé¢ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
sudo apt install -y xfce4 xfce4-goodies

# ä¸ºå½“å‰ç”¨æˆ·è®¾ç½®VNCå¯†ç 
vncpasswd

# åˆ›å»ºVNCå¯åŠ¨è„šæœ¬
mkdir -p ~/.vnc
cat > ~/.vnc/xstartup << 'EOF'
#!/bin/bash
xrdb $HOME/.Xresources
startxfce4 &
EOF

chmod +x ~/.vnc/xstartup

# å¯åŠ¨VNCæœåŠ¡å™¨
vncserver :1 -geometry 1920x1080 -depth 24

# æ£€æŸ¥VNCçŠ¶æ€
vncserver -list
```

#### **é…ç½®VNC systemdæœåŠ¡**
```bash
# åˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶
sudo tee /etc/systemd/system/vncserver@.service << 'EOF'
[Unit]
Description=Start TigerVNC server at startup
After=syslog.target network.target

[Service]
Type=forking
User=your-username
Group=your-username
WorkingDirectory=/home/your-username

PIDFile=/home/your-username/.vnc/%H:%i.pid
ExecStartPre=-/usr/bin/vncserver -kill :%i > /dev/null 2>&1
ExecStart=/usr/bin/vncserver -depth 24 -geometry 1920x1080 :%i
ExecStop=/usr/bin/vncserver -kill :%i

[Install]
WantedBy=multi-user.target
EOF

# æ›¿æ¢ç”¨æˆ·å
sudo sed -i "s/your-username/$USER/g" /etc/systemd/system/vncserver@.service

# å¯ç”¨å¹¶å¯åŠ¨VNCæœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable vncserver@1.service
sudo systemctl start vncserver@1.service

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status vncserver@1.service
```

#### **VNCå®¢æˆ·ç«¯è¿æ¥**
```bash
# åœ¨æœ¬åœ°æœºå™¨ä¸Šä½¿ç”¨VNCå®¢æˆ·ç«¯è¿æ¥
# åœ°å€: your-server-ip:5901
# å¯†ç : ä¹‹å‰è®¾ç½®çš„VNCå¯†ç 

# æˆ–ä½¿ç”¨SSHéš§é“ï¼ˆæ›´å®‰å…¨ï¼‰
ssh -L 5901:localhost:5901 username@your-server-ip
# ç„¶åè¿æ¥åˆ° localhost:5901
```

---

## ğŸš€ **ç¬¬ä¸‰æ­¥ï¼šé¡¹ç›®éƒ¨ç½²**

### **æ–¹æ¡ˆAï¼šDockeréƒ¨ç½²ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰**

#### **1. å®‰è£…Docker**
```bash
# ä½¿ç”¨ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼ˆåŒ…å«Dockerå®‰è£…ï¼‰
curl -fsSL https://raw.githubusercontent.com/your-repo/unicatcher/main/scripts/docker-deploy.sh -o docker-deploy.sh
chmod +x docker-deploy.sh
./docker-deploy.sh
```

#### **2. æ‰‹åŠ¨Dockerå®‰è£…**
```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update

# å®‰è£…ä¾èµ–
sudo apt install -y apt-transport-https ca-certificates curl gnupg lsb-release

# æ·»åŠ Dockerå®˜æ–¹GPGå¯†é’¥
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# æ·»åŠ Dockerä»“åº“
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# å®‰è£…Docker
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose

# æ·»åŠ ç”¨æˆ·åˆ°dockerç»„
sudo usermod -aG docker $USER

# å¯åŠ¨DockeræœåŠ¡
sudo systemctl start docker
sudo systemctl enable docker

# éªŒè¯å®‰è£…
docker --version
docker-compose --version
```

#### **3. éƒ¨ç½²UniCatcher**
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/unicatcher.git
cd unicatcher

# éƒ¨ç½²æœåŠ¡
docker-compose up -d

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f unicatcher

# å¥åº·æ£€æŸ¥
curl http://localhost:3067/api/health
```

### **æ–¹æ¡ˆBï¼šç›´æ¥å®‰è£…éƒ¨ç½²**

#### **1. å®‰è£…Node.js**
```bash
# å®‰è£…Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# éªŒè¯å®‰è£…
node --version
npm --version
```

#### **2. å®‰è£…Playwrightä¾èµ–**
```bash
# å®‰è£…Playwrightç³»ç»Ÿä¾èµ–
sudo apt install -y \
    libnss3 \
    libatk-bridge2.0-0 \
    libdrm2 \
    libxkbcommon0 \
    libgbm1 \
    libxss1 \
    libasound2 \
    libxrandr2 \
    libpangocairo-1.0-0 \
    libatk1.0-0 \
    libcairo-gobject2 \
    libgtk-3-0 \
    libgdk-pixbuf2.0-0
```

#### **3. éƒ¨ç½²é¡¹ç›®**
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/unicatcher.git
cd unicatcher

# å®‰è£…ä¾èµ–
npm install

# å®‰è£…Playwrightæµè§ˆå™¨
npx playwright install chromium
npx playwright install-deps chromium

# åˆå§‹åŒ–å¼€å‘ç¯å¢ƒ
npm run setup-dev

# å¯åŠ¨æœåŠ¡
npm run dev

# æ£€æŸ¥æœåŠ¡
curl http://localhost:3067/api/health
```

---

## ğŸ” **ç¬¬å››æ­¥ï¼šç™»å½•é…ç½®**

### **æœ‰GUIç¯å¢ƒçš„æœåŠ¡å™¨**
```bash
# ç›´æ¥ä½¿ç”¨æ‰‹åŠ¨ç™»å½•
npm run login

# æˆ–ä½¿ç”¨å¿«é€Ÿç™»å½•
npm run quick-login
```

### **æ— GUIç¯å¢ƒçš„æœåŠ¡å™¨**

#### **æ–¹æ¡ˆ1ï¼šä½¿ç”¨VNCæ¡Œé¢**
```bash
# é€šè¿‡VNCå®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨æ¡Œé¢
# ç„¶ååœ¨VNCæ¡Œé¢ä¸­è¿è¡Œç™»å½•å‘½ä»¤
npm run login
```

#### **æ–¹æ¡ˆ2ï¼šä»æœ¬åœ°å¤åˆ¶ç™»å½•çŠ¶æ€**
```bash
# åœ¨æœ¬åœ°æœºå™¨ä¸Šå®Œæˆç™»å½•åï¼Œå¤åˆ¶ç™»å½•çŠ¶æ€æ–‡ä»¶
scp ./data/browser-state.json username@server:/path/to/unicatcher/data/

# åœ¨æœåŠ¡å™¨ä¸Šç›´æ¥å¯åŠ¨æœåŠ¡
npm run dev
```

#### **æ–¹æ¡ˆ3ï¼šä½¿ç”¨æœåŠ¡å™¨ä¸“ç”¨ç™»å½•è„šæœ¬**
```bash
# ä½¿ç”¨æ™ºèƒ½ç¯å¢ƒæ£€æµ‹çš„ç™»å½•è„šæœ¬
npm run server-login
```

---

## ğŸ”§ **ç¬¬äº”æ­¥ï¼šæœåŠ¡é…ç½®å’Œä¼˜åŒ–**

### **é…ç½®è‡ªå¯åŠ¨æœåŠ¡**
```bash
# åˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶
sudo tee /etc/systemd/system/unicatcher.service << EOF
[Unit]
Description=UniCatcher Service
After=network.target

[Service]
Type=simple
User=$USER
WorkingDirectory=/home/$USER/unicatcher
Environment=NODE_ENV=production
ExecStart=/usr/bin/npm run start
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF

# å¯ç”¨æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable unicatcher.service
sudo systemctl start unicatcher.service

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status unicatcher.service
```

### **é…ç½®é˜²ç«å¢™**
```bash
# å¼€æ”¾ç«¯å£
sudo ufw allow 3067/tcp
sudo ufw allow 5901/tcp  # VNCç«¯å£ï¼ˆå¦‚ä½¿ç”¨ï¼‰

# å¯ç”¨é˜²ç«å¢™
sudo ufw enable

# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
sudo ufw status
```

### **é…ç½®Nginxåå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰**
```bash
# å®‰è£…Nginx
sudo apt install -y nginx

# åˆ›å»ºé…ç½®æ–‡ä»¶
sudo tee /etc/nginx/sites-available/unicatcher << 'EOF'
server {
    listen 80;
    server_name your-domain.com;  # æ›¿æ¢ä¸ºä½ çš„åŸŸåæˆ–IP

    location / {
        proxy_pass http://localhost:3067;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
EOF

# å¯ç”¨ç«™ç‚¹
sudo ln -s /etc/nginx/sites-available/unicatcher /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

---

## ğŸ“Š **ç¬¬å…­æ­¥ï¼šéªŒè¯éƒ¨ç½²**

### **å®Œæ•´éªŒè¯è„šæœ¬**
```bash
# åˆ›å»ºéªŒè¯è„šæœ¬
cat > verify_deployment.sh << 'EOF'
#!/bin/bash

echo "ğŸ” UniCatcheréƒ¨ç½²éªŒè¯"
echo "===================="

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
echo -e "\nğŸ“‹ æœåŠ¡çŠ¶æ€:"
if curl -f http://localhost:3067/api/health &>/dev/null; then
    echo "âœ… UniCatcheræœåŠ¡æ­£å¸¸è¿è¡Œ"
    echo "ğŸ“Š å¥åº·æ£€æŸ¥è¯¦æƒ…:"
    curl -s http://localhost:3067/api/health | python3 -m json.tool
else
    echo "âŒ UniCatcheræœåŠ¡å¼‚å¸¸"
fi

# æ£€æŸ¥ç«¯å£
echo -e "\nğŸ”Œ ç«¯å£æ£€æŸ¥:"
if netstat -tlnp | grep -q ":3067"; then
    echo "âœ… ç«¯å£3067æ­£å¸¸ç›‘å¬"
else
    echo "âŒ ç«¯å£3067æœªç›‘å¬"
fi

# æ£€æŸ¥è¿›ç¨‹
echo -e "\nâš™ï¸  è¿›ç¨‹æ£€æŸ¥:"
if pgrep -f "unicatcher\|next.*dev" > /dev/null; then
    echo "âœ… UniCatcherè¿›ç¨‹è¿è¡Œä¸­"
    echo "è¿›ç¨‹è¯¦æƒ…:"
    pgrep -fl "unicatcher\|next.*dev"
else
    echo "âŒ æœªæ‰¾åˆ°UniCatcherè¿›ç¨‹"
fi

# æ£€æŸ¥æ•°æ®åº“
echo -e "\nğŸ—„ï¸  æ•°æ®åº“æ£€æŸ¥:"
if [ -f "./prisma/db.sqlite" ]; then
    echo "âœ… æ•°æ®åº“æ–‡ä»¶å­˜åœ¨"
    echo "æ–‡ä»¶å¤§å°: $(du -h ./prisma/db.sqlite | cut -f1)"
else
    echo "âŒ æ•°æ®åº“æ–‡ä»¶ä¸å­˜åœ¨"
fi

# æ£€æŸ¥æ—¥å¿—
echo -e "\nğŸ“ æœ€è¿‘æ—¥å¿—:"
if [ -d "./data/logs" ]; then
    echo "æ—¥å¿—ç›®å½•å­˜åœ¨ï¼Œæœ€æ–°æ—¥å¿—:"
    find ./data/logs -name "*.log" -type f -exec tail -n 3 {} \; 2>/dev/null || echo "æš‚æ— æ—¥å¿—æ–‡ä»¶"
else
    echo "æ—¥å¿—ç›®å½•ä¸å­˜åœ¨"
fi

echo -e "\nğŸ‰ éªŒè¯å®Œæˆï¼"
EOF

chmod +x verify_deployment.sh
./verify_deployment.sh
```

---

## ğŸš¨ **å¸¸è§é—®é¢˜æ’é™¤**

### **æ¡Œé¢ç¯å¢ƒé—®é¢˜**
```bash
# å¦‚æœæ¡Œé¢å®‰è£…åé»‘å±
sudo dpkg-reconfigure lightdm
sudo systemctl restart lightdm

# å¦‚æœVNCè¿æ¥å¤±è´¥
sudo ufw allow 5901/tcp
vncserver -kill :1
vncserver :1 -geometry 1920x1080
```

### **é¡¹ç›®éƒ¨ç½²é—®é¢˜**
```bash
# å¦‚æœnpmå®‰è£…å¤±è´¥
sudo apt update
sudo apt install -y build-essential python3

# å¦‚æœPlaywrightå®‰è£…å¤±è´¥
npx playwright install-deps
sudo apt install -y libxss1 libgbm1

# å¦‚æœç«¯å£å ç”¨
sudo netstat -tlnp | grep :3067
sudo kill -9 <PID>
```

### **æƒé™é—®é¢˜**
```bash
# ä¿®å¤æ–‡ä»¶æƒé™
sudo chown -R $USER:$USER ~/unicatcher
chmod -R 755 ~/unicatcher
```

---

## ğŸ“‹ **éƒ¨ç½²æ£€æŸ¥æ¸…å•**

### **ç¯å¢ƒå‡†å¤‡**
- [ ] SSHè¿æ¥åˆ°æœåŠ¡å™¨æˆåŠŸ
- [ ] ç³»ç»Ÿæ›´æ–°å®Œæˆï¼ˆ`sudo apt update && sudo apt upgrade`ï¼‰
- [ ] ç¡®è®¤æ¡Œé¢ç¯å¢ƒéœ€æ±‚
- [ ] é˜²ç«å¢™é…ç½®å®Œæˆ

### **æ¡Œé¢ç¯å¢ƒï¼ˆå¦‚éœ€è¦ï¼‰**
- [ ] æ¡Œé¢ç¯å¢ƒå®‰è£…å®Œæˆï¼ˆXFCE/Ubuntu Desktopï¼‰
- [ ] æ˜¾ç¤ºç®¡ç†å™¨è¿è¡Œæ­£å¸¸ï¼ˆLightDM/GDM3ï¼‰
- [ ] VNCæœåŠ¡é…ç½®å®Œæˆï¼ˆå¦‚ä½¿ç”¨è¿œç¨‹æ¡Œé¢ï¼‰
- [ ] å¯ä»¥æ­£å¸¸æ˜¾ç¤ºå›¾å½¢ç•Œé¢

### **é¡¹ç›®éƒ¨ç½²**
- [ ] Dockerå®‰è£…å®Œæˆï¼ˆå¦‚ä½¿ç”¨Dockerï¼‰
- [ ] Node.jsç¯å¢ƒé…ç½®å®Œæˆï¼ˆå¦‚ç›´æ¥å®‰è£…ï¼‰
- [ ] é¡¹ç›®ä»£ç å…‹éš†å®Œæˆ
- [ ] ä¾èµ–å®‰è£…å®Œæˆ
- [ ] æœåŠ¡å¯åŠ¨æˆåŠŸ
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡

### **åŠŸèƒ½éªŒè¯**
- [ ] Webç•Œé¢å¯è®¿é—®ï¼ˆhttp://server-ip:3067ï¼‰
- [ ] APIæ¥å£æ­£å¸¸ï¼ˆ/api/healthï¼‰
- [ ] ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸

ç°åœ¨æ‚¨å¯ä»¥æŒ‰ç…§è¿™ä¸ªæŒ‡å—é€æ­¥åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²UniCatcheräº†ï¼æœ‰ä»»ä½•é—®é¢˜è¯·éšæ—¶è¯¢é—®ã€‚ 